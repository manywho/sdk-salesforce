// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find
Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),o=n.length>>>0,i=arguments[1],r=0;r<o;r++)if(t=n[r],e.call(i,t,r,n))return t}),function(e){e.whenAll=function(t){if(t&&t.length){var n,o,i=e.Deferred(),r=t.length,a=!1;return o=function(){--r||i[a?"reject":"resolve"]()},n=function(){a=!0},t.forEach(function(e){e.fail(n).always(o)}),i}return e.Deferred().resolve()}}(jQuery),/*!
 * numbro.js
 * version : 1.9.3
 * author : Företagsplatsen AB
 * license : MIT
 * http://www.foretagsplatsen.se
 */
function(){"use strict";function e(e){this._value=e}function t(e){var t,n="";for(t=0;e>t;t++)n+="0";return n}function n(e,n){var o,i,r,a,l,u,s,c;return c=e.toString(),o=c.split("e")[0],a=c.split("e")[1],i=o.split(".")[0],r=o.split(".")[1]||"",+a>0?c=i+r+t(a-r.length):(l=0>+i?"-0":"0",n>0&&(l+="."),s=t(-1*a-1),u=(s+Math.abs(i)+r).substr(0,n),c=l+u),+a>0&&n>0&&(c+="."+t(n)),c}function o(e,t,o,i){var r,a,l=Math.pow(10,t);return e.toString().indexOf("e")>-1?(a=n(e,t),"-"===a.charAt(0)&&+a>=0&&(a=a.substr(1))):a=(o(e+"e+"+t)/l).toFixed(t),i&&(r=new RegExp("0{1,"+i+"}$"),a=a.replace(r,"")),a}function i(e,t,n){var o,i=t.replace(/\{[^\{\}]*\}/g,"");return o=i.indexOf("$")>-1?a(e,I[E].currency.symbol,t,n):i.indexOf("%")>-1?u(e,t,n):i.indexOf(":")>-1?s(e,t):f(e._value,t,n)}function r(e,t){var n,o,i,r,a,l=t,u=!1;if(t.indexOf(":")>-1)e._value=c(t);else if(t===D)e._value=0;else{for("."!==I[E].delimiters.decimal&&(t=t.replace(/\./g,"").replace(I[E].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+I[E].abbreviations.thousand+"(?:\\)|(\\"+I[E].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+I[E].abbreviations.million+"(?:\\)|(\\"+I[E].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+I[E].abbreviations.billion+"(?:\\)|(\\"+I[E].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+I[E].abbreviations.trillion+"(?:\\)|(\\"+I[E].currency.symbol+")?(?:\\))?)?$"),a=1;a<b.length&&!u;++a)t.indexOf(b[a])>-1?u=Math.pow(1024,a):t.indexOf(x[a])>-1&&(u=Math.pow(1e3,a));var s=t.replace(/[^0-9\.]+/g,"");""===s?e._value=NaN:(e._value=(u?u:1)*(l.match(n)?Math.pow(10,3):1)*(l.match(o)?Math.pow(10,6):1)*(l.match(i)?Math.pow(10,9):1)*(l.match(r)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(s),e._value=u?Math.ceil(e._value):e._value)}return e._value}function a(e,t,n,o){var i,r,a=n,l=a.indexOf("$"),u=a.indexOf("("),s=a.indexOf("+"),c=a.indexOf("-"),d="",m="";if(-1===a.indexOf("$")?"infix"===I[E].currency.position?(m=t,I[E].currency.spaceSeparated&&(m=" "+m+" ")):I[E].currency.spaceSeparated&&(d=" "):a.indexOf(" $")>-1?(d=" ",a=a.replace(" $","")):a.indexOf("$ ")>-1?(d=" ",a=a.replace("$ ","")):a=a.replace("$",""),r=f(e._value,a,o,m),-1===n.indexOf("$"))switch(I[E].currency.position){case"postfix":r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,d+t),r=r.join("")):r=r+d+t;break;case"infix":break;case"prefix":r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),i=Math.max(u,c)+1,r.splice(i,0,t+d),r=r.join("")):r=t+d+r;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else 1>=l?r.indexOf("(")>-1||r.indexOf("+")>-1||r.indexOf("-")>-1?(r=r.split(""),i=1,(u>l||s>l||c>l)&&(i=0),r.splice(i,0,t+d),r=r.join("")):r=t+d+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,d+t),r=r.join("")):r=r+d+t;return r}function l(e,t,n,o){return a(e,t,n,o)}function u(e,t,n){var o,i="",r=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),o=f(r,t,n),o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o}function s(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),o=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>o?"0"+o:o)}function c(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function d(e,t,n){var o,i,r,a=t[0],l=Math.abs(e);if(l>=n){for(o=1;o<t.length;++o)if(i=Math.pow(n,o),r=Math.pow(n,o+1),l>=i&&r>l){a=t[o],e/=i;break}a===t[0]&&(e/=Math.pow(n,t.length-1),a=t[t.length-1])}return{value:e,suffix:a}}function f(e,n,i,r){var a,l,u,s,c,f,m,p,g,w,h,y,v,b,x,C,k,S=!1,N=!1,L=!1,O="",R=!1,M=!1,F=!1,U=!1,j=!1,W="",K="",q=Math.abs(e),A="",z=!1,$=!1,V="";if(0===e&&null!==D)return D;if(!isFinite(e))return""+e;if(0===n.indexOf("{")){var P=n.indexOf("}");if(-1===P)throw Error('Format should also contain a "}"');w=n.slice(1,P),n=n.slice(P+1)}else w="";if(n.indexOf("}")===n.length-1){var B=n.indexOf("{");if(-1===B)throw Error('Format should also contain a "{"');h=n.slice(B+1,-1),n=n.slice(0,B+1)}else h="";var _;for(_=-1===n.indexOf(".")?n.match(/([0-9]+).*/):n.match(/([0-9]+)\..*/),C=null===_?-1:_[1].length,-1!==n.indexOf("-")&&(z=!0),n.indexOf("(")>-1?(S=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(N=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(p=n.split(".")[0].match(/[0-9]+/g)||["0"],p=parseInt(p[0],10),R=n.indexOf("aK")>=0,M=n.indexOf("aM")>=0,F=n.indexOf("aB")>=0,U=n.indexOf("aT")>=0,j=R||M||F||U,n.indexOf(" a")>-1?(O=" ",n=n.replace(" a","")):n=n.replace("a",""),u=Math.floor(Math.log(q)/Math.LN10)+1,c=u%3,c=0===c?3:c,p&&0!==q&&(s=Math.floor(Math.log(q)/Math.LN10)+1-p,f=3*~~((Math.min(p,u)-c)/3),q/=Math.pow(10,f),-1===n.indexOf(".")&&p>3&&(n+="[.]",b=0===s?0:3*~~(s/3)-s,b=0>b?b+3:b,n+=t(b))),Math.floor(Math.log(Math.abs(e))/Math.LN10)+1!==p&&(q>=Math.pow(10,12)&&!j||U?(O+=I[E].abbreviations.trillion,e/=Math.pow(10,12)):q<Math.pow(10,12)&&q>=Math.pow(10,9)&&!j||F?(O+=I[E].abbreviations.billion,e/=Math.pow(10,9)):q<Math.pow(10,9)&&q>=Math.pow(10,6)&&!j||M?(O+=I[E].abbreviations.million,e/=Math.pow(10,6)):(q<Math.pow(10,6)&&q>=Math.pow(10,3)&&!j||R)&&(O+=I[E].abbreviations.thousand,e/=Math.pow(10,3)))),k=0;k<T.length;++k)if(a=T[k],n.indexOf(a.marker)>-1){n.indexOf(" "+a.marker)>-1&&(W=" "),n=n.replace(W+a.marker,""),l=d(e,a.suffixes,a.scale),e=l.value,W+=l.suffix;break}if(n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(K=" ",n=n.replace(" o","")):n=n.replace("o",""),I[E].ordinal&&(K+=I[E].ordinal(e))),n.indexOf("[.]")>-1&&(L=!0,n=n.replace("[.]",".")),m=e.toString().split(".")[0],g=n.split(".")[1],y=n.indexOf(","),g){if(-1!==g.indexOf("*")?A=o(e,e.toString().split(".")[1].length,i):g.indexOf("[")>-1?(g=g.replace("]",""),g=g.split("["),A=o(e,g[0].length+g[1].length,i,g[1].length)):A=o(e,g.length,i),m=A.split(".")[0],A.split(".")[1].length){var H=r?O+r:I[E].delimiters.decimal;A=H+A.split(".")[1]}else A="";L&&0===Number(A.slice(1))&&(A="")}else m=o(e,0,i);return m.indexOf("-")>-1&&(m=m.slice(1),$=!0),m.length<C&&(m=t(C-m.length)+m),y>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+I[E].delimiters.thousands)),0===n.indexOf(".")&&(m=""),v=n.indexOf("("),x=n.indexOf("-"),V=x>v?(S&&$?"(":"")+(z&&$||!S&&$?"-":""):(z&&$||!S&&$?"-":"")+(S&&$?"(":""),w+V+(!$&&N&&0!==e?"+":"")+m+A+(K?K:"")+(O&&!r?O:"")+(W?W:"")+(S&&$?")":"")+h}function m(e,t){I[e]=t}function p(e){E=e;var t=I[e].defaults;t&&t.format&&y.defaultFormat(t.format),t&&t.currencyFormat&&y.defaultCurrencyFormat(t.currencyFormat)}function g(){return"undefined"!=typeof process&&void 0===process.browser&&process.title&&(0===process.title.indexOf("node")||process.title.indexOf("meteor-tool")>0||"grunt"===process.title||"gulp"===process.title)&&"undefined"!=typeof require}function w(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function h(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=w(e),o=w(t);return n>o?n:o},-(1/0))}var y,v="1.9.3",b=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],x=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],C={general:{scale:1024,suffixes:x,marker:"bd"},binary:{scale:1024,suffixes:b,marker:"b"},decimal:{scale:1e3,suffixes:x,marker:"d"}},T=[C.general,C.binary,C.decimal],I={},k=I,E="en-US",D=null,S="0,0",N="0$",L="undefined"!=typeof module&&module.exports,O={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}};y=function(t){return y.isNumbro(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=y.fn.unformat(t)),new e(Number(t))},y.version=v,y.isNumbro=function(t){return t instanceof e},y.setLanguage=function(e,t){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var n=e,o=e.split("-")[0],i=null;k[n]||(Object.keys(k).forEach(function(e){i||e.split("-")[0]!==o||(i=e)}),n=i||t||"en-US"),p(n)},y.setCulture=function(e,t){var n=e,o=e.split("-")[1],i=null;I[n]||(o&&Object.keys(I).forEach(function(e){i||e.split("-")[1]!==o||(i=e)}),n=i||t||"en-US"),p(n)},y.language=function(e,t){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!e)return E;if(e&&!t){if(!k[e])throw new Error("Unknown language : "+e);p(e)}return!t&&k[e]||m(e,t),y},y.culture=function(e,t){if(!e)return E;if(e&&!t){if(!I[e])throw new Error("Unknown culture : "+e);p(e)}return!t&&I[e]||m(e,t),y},y.languageData=function(e){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!e)return k[E];if(!k[e])throw new Error("Unknown language : "+e);return k[e]},y.cultureData=function(e){if(!e)return I[E];if(!I[e])throw new Error("Unknown culture : "+e);return I[e]},y.culture("en-US",O),y.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),k},y.cultures=function(){return I},y.zeroFormat=function(e){D="string"==typeof e?e:null},y.defaultFormat=function(e){S="string"==typeof e?e:"0.0"},y.defaultCurrencyFormat=function(e){N="string"==typeof e?e:"0$"},y.validate=function(e,t){var n,o,i,r,a,l,u,s;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e=e.replace(/^[+-]?/,""),e.match(/^\d+$/))return!0;if(""===e)return!1;try{u=y.cultureData(t)}catch(c){u=y.cultureData(y.culture())}return i=u.currency.symbol,a=u.abbreviations,n=u.delimiters.decimal,o="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,s=e.match(/^[^\d\.\,]+/),(null===s||(e=e.substr(1),s[0]===i))&&(s=e.match(/[^\d]+$/),(null===s||(e=e.slice(0,-1),s[0]===a.thousand||s[0]===a.million||s[0]===a.billion||s[0]===a.trillion))&&(l=new RegExp(o+"{2}"),!e.match(/[^\d.,]/g)&&(r=e.split(n),!(r.length>2)&&(r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(l):""===r[0]?!r[0].match(l)&&!!r[1].match(/^\d+$/):1===r[0].length?!!r[0].match(/^\d+$/)&&!r[0].match(l)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(l)&&!!r[1].match(/^\d+$/)))))},y.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),y.loadCulturesInNode()},y.loadCulturesInNode=function(){var e=require("./languages");for(var t in e)t&&y.culture(t,e[t])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,o,i=this.length>>>0,r=!1;for(1<arguments.length&&(o=t,r=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(r?o=e(o,this[n],n,this):(o=this[n],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return o}),y.fn=e.prototype={clone:function(){return y(this)},format:function(e,t){return i(this,e?e:S,void 0!==t?t:Math.round)},formatCurrency:function(e,t){return a(this,I[E].currency.symbol,e?e:N,void 0!==t?t:Math.round)},formatForeignCurrency:function(e,t,n){return l(this,e,t?t:N,void 0!==n?n:Math.round)},unformat:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=r(this,e);return isNaN(t)?void 0:t}},binaryByteUnits:function(){return d(this._value,C.binary.suffixes,C.binary.scale).suffix},byteUnits:function(){return d(this._value,C.general.suffixes,C.general.scale).suffix},decimalByteUnits:function(){return d(this._value,C.decimal.suffixes,C.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=h.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=h.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=h(e,t),o=e*n;return o*=t*n,o/=n*n}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=h(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(y(this._value).subtract(e).value())}},g()&&y.loadCulturesInNode(),L?module.exports=y:("undefined"==typeof ender&&(this.numbro=y),"function"==typeof define&&define.amd&&define([],function(){return y}))}.call("undefined"==typeof window?this:window),/*!
 * numbro.js language configuration
 * language : Czech
 * locale: Czech Republic
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
function(){"use strict";var e={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Kč",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"en-AU",cultureCode:"en-AU",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"£",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"en-NZ",cultureCode:"en-NZ",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"،",decimal:"."},abbreviations:{thousand:"هزار",million:"میلیون",billion:"میلیارد",trillion:"تریلیون"},ordinal:function(){return"ام"},currency:{symbol:"﷼"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"₱"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"אלף",million:"מליון",billion:"בליון",trillion:"טריליון"},currency:{symbol:"₪",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"₪ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"₪ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"천",million:"백만",billion:"십억",trillion:"일조"},ordinal:function(){return"."},currency:{symbol:"₩"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tūkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&1>=t||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&1>=t||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" zł",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"R$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб.",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"₴",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"พัน",million:"ล้าน",billion:"พันล้าน",trillion:"ล้านล้าน"},ordinal:function(){return"."},currency:{symbol:"฿",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"},t={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(t){if(0===t)return"'ıncı";var n=t%10,o=t%100-n,i=t>=100?100:null;return e[n]||e[o]||e[i]},currency:{symbol:"₺",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тис.",million:"млн",billion:"млрд",trillion:"блн"},ordinal:function(){return""},currency:{symbol:"₴",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),function(){"use strict";var e={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百萬",billion:"十億",trillion:"兆"},ordinal:function(){return"第"},currency:{symbol:"NT$"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(e.cultureCode,e)}.call("undefined"==typeof window?this:window),window.localStorage&&window.sessionStorage||function(){var e=function(e){function t(e,t,n){var o,i;n?(o=new Date,o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()):i="",document.cookie=e+"="+t+i+"; path=/"}function n(e){var t,n,o=e+"=",i=document.cookie.split(";");for(t=0;t<i.length;t++){for(n=i[t];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return null}function o(n){n=JSON.stringify(n),"session"==e?window.name=n:t("localStorage",n,365)}function i(){"session"==e?window.name="":t("localStorage","",365)}function r(){var t="session"==e?window.name:n("localStorage");return t?JSON.parse(t):{}}function a(){var e=0;for(var t in l)l.hasOwnProperty(t)&&(e+=1);return e}var l=r();return{clear:function(){l={},i(),this.length=a()},getItem:function(e){return e=encodeURIComponent(e),void 0===l[e]?null:l[e]},key:function(e){var t=0;for(var n in l){if(t==e)return decodeURIComponent(n);t++}return null},removeItem:function(e){e=encodeURIComponent(e),delete l[e],o(l),this.length=a()},setItem:function(e,t){e=encodeURIComponent(e),l[e]=String(t),o(l),this.length=a()},length:0}};window.localStorage||(window.localStorage=new e("local")),window.sessionStorage||(window.sessionStorage=new e("session"))}(),manywho.ajax=function(){function e(){}return e.dispatchDataRequest=function(e,t,n,o,i,r,a,l,u,s,c){return n.listFilter=n.listFilter||{},n.listFilter.search=l||null,n.listFilter.limit=a,null!=a&&void 0!==a||(n.listFilter.limit=manywho.settings.global("paging.files")),u&&(n.listFilter.orderByPropertyDeveloperName=u),s&&(n.listFilter.orderByDirectionType=s),c>0&&(n.listFilter.offset=(c-1)*n.listFilter.limit),manywho.connection.request(null,t,e,"POST",o,i,r,n)},e.login=function(e,t,n,o,i,r,a){manywho.log.info("Logging into Flow State: \n    Id: "+r);var l={username:t,password:n,token:null,sessionToken:o,sessionUrl:i,loginUrl:e};return manywho.connection.request(null,"login","/api/run/1/authentication/"+r,"POST",a,null,null,l)},e.initialize=function(e,t,n){return manywho.log.info("Initializing Flow: \n    Id: "+e.flowId.id+"\n    Version Id: "+e.flowId.versionId),manywho.connection.request(null,"initialization","/api/run/1","POST",t,null,n,e)},e.flowOut=function(e,t,n,o){return manywho.connection.request(null,"flowOut","/api/run/1/state/out/"+e+"/"+n,"POST",t,e,o,null)},e.join=function(e,t,n){return manywho.log.info("Joining State: "+e),manywho.connection.request(null,"join","/api/run/1/state/"+e,"GET",t,e,n)},e.invoke=function(e,t,n){return manywho.log.info("Invoking State: "+e.stateId),manywho.connection.request(null,"invoke","/api/run/1/state/"+e.stateId,"POST",t,e.stateId,n,e)},e.getNavigation=function(e,t,n,o,i){var r={stateId:e,stateToken:t,navigationElementId:n};return manywho.connection.request(null,"navigation","/api/run/1/navigation/"+e,"POST",o,e,i,r)},e.getFlowByName=function(e,t,n){return manywho.connection.request(null,"getFlowByName","/api/run/1/flow/name/"+e,"GET",t,null,n,null)},e.dispatchObjectDataRequest=function(e,t,n,o,i,r,a,l,u){return manywho.log.info("Dispatching object data request"),manywho.ajax.dispatchDataRequest("/api/service/1/data","objectData",e,t,n,o,i,r,a,l,u)},e.dispatchFileDataRequest=function(e,t,n,o,i,r,a,l,u){return manywho.log.info("Dispatching object data request"),manywho.ajax.dispatchDataRequest("/api/service/1/file","fileData",e,t,n,o,i,r,a,l,u)},e.uploadFile=function(e,t,n,o){return manywho.connection.upload(null,"fileData","/api/service/1/file/content",e,t,n,o)},e.uploadSocialFile=function(e,t,n,o,i){return manywho.connection.upload(null,"fileData","/api/social/1/stream/"+t+"/file",e,n,o,i)},e.sessionAuthentication=function(e,t,n,o){return manywho.log.info("Authenticating using session ID"),manywho.connection.request(null,"sessionAuthentication","/api/run/1/authentication/"+t,"POST",e,t,o,n)},e.ping=function(e,t,n,o){return manywho.log.info("Pinging for changes"),manywho.connection.request(null,"ping","/api/run/1/state/"+t+"/ping/"+n,"GET",e,t,o,null)},e.getExecutionLog=function(e,t,n,o){return manywho.log.info("Getting Execution Log"),manywho.connection.request(null,"log","/api/log/"+t+"/"+n,"GET",e,n,o,null)},e.getSocialMe=function(e,t,n,o){return manywho.log.info("Getting Social User, Me"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"/user/me","GET",e,n,o,null)},e.getSocialFollowers=function(e,t,n,o){return manywho.log.info("Getting Social Followers"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"/follower","GET",e,n,o,null)},e.getSocialMessages=function(e,t,n,o,i,r){return manywho.log.info("Getting Social Messages"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"?page="+o+"&pageSize="+i,"GET",e,n,r,null)},e.sendSocialMessage=function(e,t,n,o,i){return manywho.log.info("Sending Social Message"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"/message","POST",e,n,i,o)},e.follow=function(e,t,n,o,i){return manywho.log.info("Following Social Message"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"?follow="+o.toString(),"POST",e,n,i,null)},e.getSocialUsers=function(e,t,n,o,i){return manywho.log.info("Following Social Message"),manywho.connection.request(null,"social","/api/social/1/stream/"+t+"/user?name="+o,"GET",e,n,i,null)},e}(),manywho.authorization=function(e){return{setAuthenticationToken:function(t,n){e.state.setAuthenticationToken(t,n)},isAuthorized:function(t,n){return!(null!=t.authorizationContext&&null!=t.authorizationContext.directoryId&&e.utils.isNullOrWhitespace(e.state.getAuthenticationToken(n)))},invokeAuthorization:function(t,n,o){if(null!=t.authorizationContext&&null!=t.authorizationContext.directoryId){if(e.utils.isEqual(t.authorizationContext.authenticationType,"oauth2",!0))return void(window.location.href=t.authorizationContext.loginUrl);if(e.utils.isEqual(t.authorizationContext.authenticationType,"saml",!0))return void(window.location.href=t.authorizationContext.loginUrl);e.state.setLogin({isVisible:!0,directoryId:t.authorizationContext.directoryId,directoryName:t.authorizationContext.directoryName,loginUrl:t.authorizationContext.loginUrl,stateId:t.stateId,callback:o},n)}},authorizeBySession:function(t,n,o){var i=e.json.generateSessionRequest(e.state.getSessionData(n).id,e.state.getSessionData(n).url,t),r=e.state.getState(n);e.callbacks.register(n,o),e.ajax.sessionAuthentication(e.utils.extractTenantId(n),r.id,i).then(function(t){e.state.setAuthenticationToken(t,n),e.callbacks.execute(n,"done",null,null,[t])})}}}(manywho),manywho.callbacks=function(e){var t={};return{register:function(n,o){var i=e.utils.getLookUpKey(n);t[i]=t[i]||[],o.flowKey||(o.flowKey=n),t[i].push(o)},execute:function(n,o,i,r,a){var l=e.utils.getLookUpKey(n);t[l]&&t[l].filter(function(t){return!(o&&!e.utils.isEqual(t.type,o,!0))&&(!(i&&!e.utils.isEqual(t.name,i,!0))&&!(!e.utils.isEqual(o,"done",!0)&&r&&!e.utils.isEqual(t.mapElement,r,!0)))}).forEach(function(e){e.execute.apply(void 0,[e].concat(e.args||[],a)),t[l]&&!e.repeat&&t[l].splice(t[l].indexOf(e),1)})},remove:function(n){var o=e.utils.getLookUpKey(n);t[o]=null}}}(manywho),manywho.collaboration=function(e){function t(t,n,o){var i=e.utils.extractStateId(t);m&&p[i]&&p[i].isEnabled&&(o=o||{},o.stateId=i,o.id=m.id,o.owner=m.id,m.connected?m.emit(n,o):m.on("connect",m.emit.bind(m,n,o)))}function n(){for(stateId in p)m.emit("left",{user:p[stateId].user,stateId:stateId})}function o(t){p[t.stateId]&&(e.log.info(t.user+" has joined "+t.stateId+". Users in Flow: "+t.users),e.model.addNotification(p[t.stateId].flowKey,{message:t.user+" has joined. Users currently in Flow: "+t.users,position:"right",type:"success",timeout:"2000",dismissible:!1}))}function i(t){p[t.stateId]&&(e.log.info(t.user+" has left "+t.stateId+". Users in Flow: "+t.users),e.model.addNotification(p[t.stateId].flowKey,{message:t.user+" has left. Users in Flow: "+t.users,position:"right",type:"danger",timeout:"2000",dismissible:!1}))}function r(t){e.log.info("change to: "+t.component+" in "+t.stateId),e.state.setComponent(t.component,t.values,p[t.stateId].flowKey,!1),
e.engine.render(p[t.stateId].flowKey)}function a(t){e.log.info("re-joining "+t.stateId);var n=p[t.stateId].flowKey,o=e.utils.extractTenantId(n),i=e.utils.extractFlowId(n),r=e.utils.extractFlowVersionId(n),a=e.utils.extractStateId(n),l=e.utils.extractElement(n);e.engine.join(o,i,r,l,a,e.state.getAuthenticationToken(n),e.settings.flow(null,n)).then(function(){m.emit("getValues",t)})}function l(t){e.log.info("joining subflow "+t.subStateId);var n=e.utils.extractElement(t.parentFlowKey),o=e.utils.extractTenantId(t.parentFlowKey);e.state.setComponentLoading(n,null,t.parentFlowKey),e.engine.render(t.parentFlowKey),e.utils.removeFlow(t.parentFlowKey);var i=e.utils.extractStateId(t.subFlowKey);e.engine.join(o,null,null,n,i,null,e.settings.flow(null,t.parentFlowKey))}function u(t){e.log.info("returning to parent "+t.parentStateId);var n=e.utils.extractTenantId(t.subFlowKey),o=e.utils.extractElement(t.subFlowKey);e.state.setComponentLoading(o,null,t.subFlowKey),e.engine.render(t.subFlowKey),e.utils.removeFlow(t.subFlowKey),e.engine.join(n,null,null,o,t.parentStateId,e.state.getAuthenticationToken(t.subFlowKey),e.settings.flow(null,t.subFlowKey))}function s(t){e.log.info("syncing "+t.stateId),e.engine.sync(p[t.stateId].flowKey)}function c(t){var n=t.subStateId||t.stateId;e.log.info("get values from: "+t.owner+" in "+n),m.emit("setValues",{stateId:n,id:t.id,components:e.state.getComponents(p[n].flowKey)})}function d(t){e.log.info("setting values in "+t.stateId),e.state.setComponents(t.components,p[t.stateId].flowKey),e.engine.render(p[t.stateId].flowKey)}function f(t){e.log.info("syncing feed in "+t.stateId),e.social.refreshMessages(p[t.stateId].flowKey)}var m=null,p={};return{initialize:function(t,g){var w=e.utils.extractStateId(g);!m&&t&&(m=io.connect(e.settings.global("collaboration.uri"),{transports:["websocket"]}),m.on("disconnect",n),m.on("joined",o),m.on("left",i),m.on("change",r),m.on("move",a),m.on("flowOut",l),m.on("returnToParent",u),m.on("sync",s),m.on("getValues",c),m.on("setValues",d),m.on("syncFeed",f),window.addEventListener("beforeunload",function(e){n()})),!p[w]&&t&&(p[w]={isEnabled:!0,flowKey:g})},isInitialized:function(t){return p.hasOwnProperty(e.utils.extractStateId(t))},enable:function(t){p[e.utils.extractStateId(t)].isEnabled=!0,m||this.initialize(!0,t)},disable:function(t){p[e.utils.extractStateId(t)].isEnabled=!1},join:function(n,o){var i=e.utils.extractStateId(o);m&&p[i]&&p[i].isEnabled&&(p[i].user=n,t(o,"join",{user:n}),m.connected?this.getValues(o):m.on("connect",this.getValues.bind(null,o)))},leave:function(t,n){var o=e.utils.extractStateId(n);m.emit("left",{user:t,stateId:o})},push:function(e,n,o){t(o,"change",{component:e,values:n})},sync:function(e){t(e,"sync")},move:function(e){t(e,"move")},flowOut:function(e,n,o){t(e,"flowOut",{subStateId:n,parentFlowKey:e,subFlowKey:o})},returnToParent:function(n,o){t(n,"returnToParent",{subFlowKey:n,parentStateId:o,stateId:e.utils.extractStateId(n)})},getValues:function(t){m.emit("getValues",{stateId:e.utils.extractStateId(t),id:m.id})},syncFeed:function(e){t(e,"syncFeed")},remove:function(t){var n=e.utils.extractStateId(t);null==p[n],delete p[n]}}}(manywho),manywho.component=function(e){function t(e){return"containerType"in e?e.containerType:"componentType"in e?e.componentType:null}var n={},o={};return{mixins:{},contentTypes:{string:"CONTENTSTRING",number:"CONTENTNUMBER","boolean":"CONTENTBOOLEAN",password:"CONTENTPASSWORD",datetime:"CONTENTDATETIME",content:"CONTENTCONTENT",object:"CONTENTOBJECT",list:"CONTENTLIST"},register:function(e,t,i){n[e.toLowerCase()]=t,i&&i.forEach(function(t){o[t.toLowerCase()]=e.toLowerCase()})},registerItems:function(e,t){n["mw-"+e.toLowerCase()]=t,o[e.toLowerCase()]="mw-items-container"},registerAlias:function(e,t){o[e.toLowerCase()]=t},registerContainer:function(e,t){n["mw-"+e.toLowerCase()]=t,o[e.toLowerCase()]="mw-container"},get:function(i){var r=t(i).toLowerCase();if(o[r]&&(r=o[r]),n.hasOwnProperty(r))return n[r];throw e.log.error("Component of type: "+r+" could not be found"),"Component of type: "+r+" could not be found"},getByName:function(e){return e&&o[e.toLowerCase()]&&(e=o[e.toLowerCase()]),n[e.toLowerCase()]},getChildComponents:function(e,t,n){return e.sort(function(e,t){return e.order-t.order}).map(function(e){var o=this.get(e);return React.createElement(o,{id:e.id,parentId:t,flowKey:n,key:e.id})},this)},getOutcomes:function(e,t){return e.sort(function(e,t){return e.order-t.order}).map(function(e){return React.createElement(n.outcome,{id:e.id,flowKey:t,key:e.id})})},handleEvent:function(t,n,o,i){n.hasEvents&&e.engine.sync(o).then(function(){e.collaboration.sync(o),e.engine.render(o)}).then(i),t.forceUpdate()},getSelectedRows:function(t,n){var o=[];return n&&n.forEach(function(n){e.utils.isNullOrWhitespace(n)||(o=o.concat(t.objectData.filter(function(t){return e.utils.isEqual(t.externalId,n,!0)}).map(function(e){var t=JSON.parse(JSON.stringify(e));return t.isSelected=!0,t})))}),o},getDisplayColumns:function(t){var n=null;return t&&(n=t.filter(function(t){if(t.properties){var n=e.utils.getObjectDataProperty(t.properties,"isDisplayValue");return!!n&&e.utils.isEqual(n.contentValue,"true",!0)}return t.isDisplayValue})),n&&0!=n.length||e.log.error("No display columns found"),n},appendFlowContainer:function(t){var n=e.utils.getLookUpKey(t),o=document.getElementById(n),i=e.utils.extractElement(t),r="mw-bs flow-container";if(e.utils.isEqual(i,"modal",!0)&&(r+=" modal-container"),o||e.utils.isEqual(i,"modal-standalone",!0))e.utils.isEqual(i,"modal-standalone",!0)&&(o=document.querySelector(e.settings.global("containerSelector",t,"#manywho")));else{var a=document.querySelector(e.settings.global("containerSelector",t,"#manywho"));o=document.createElement("div"),o.setAttribute("id",n),o.className=r,a.appendChild(o)}return o},focusInput:function(t){if(e.settings.flow("autofocusinput",t)&&window.innerWidth>768){var n=document.querySelector(".main .mw-input input, .main .mw-content input, .main .mw-textarea textarea, .modal-container .mw-input input, .modal-container .mw-content input, .modal-container .mw-textarea textarea");n&&(n.focus(),e.utils.isEqual(n.type,"text",!0)&&n.setSelectionRange(n.value.length,n.value.length))}},scrollToTop:function(t){var n=e.utils.getLookUpKey(t),o=document.getElementById(n);o&&window.scroll(0,o.offsetTop)},onOutcome:function(t,n,o){if(t.attributes){if(t.attributes.uri)return void window.open(t.attributes.uri,"_blank");if(t.attributes.uriTypeElementPropertyId&&n){var i=n[0].properties.filter(function(n){return e.utils.isEqual(n.typeElementPropertyId,t.attributes.uriTypeElementPropertyId,!0)})[0];if(i)return void window.open(i.contentValue,"_blank")}}e.engine.move(t,o).then(function(){t.isOut&&e.engine.flowOut(t,o)})}}}(manywho),manywho.connection=function(){function e(){}return e.onError=function(e,t,n){manywho.log.error(n)},e.beforeSend=function(e,t,n,o,i){e.setRequestHeader("ManyWhoTenant",t),n&&e.setRequestHeader("Authorization",n),manywho.settings.event(o+".beforeSend")&&manywho.settings.event(o+".beforeSend").call(this,e,i)},e.request=function(e,t,n,o,i,r,a,l){var u=this,s=null;return null!=l&&(s=JSON.stringify(l)),$.ajax({url:manywho.settings.global("platform.uri")+n,type:o,dataType:"json",contentType:"application/json",processData:!0,data:s,beforeSend:function(e){manywho.connection.beforeSend.call(u,e,i,a,t,l),manywho.utils.isNullOrWhitespace(r)===!1&&e.setRequestHeader("ManyWhoState",r)}}).done(manywho.settings.event(t+".done")).fail(manywho.connection.onError).fail(manywho.settings.event(t+".fail"))},e.upload=function(e,t,n,o,i,r,a){var l=this;return $.ajax({url:manywho.settings.global("platform.uri")+n,type:"POST",data:o,contentType:!1,processData:!1,xhr:function(){var e=new XMLHttpRequest;return e.upload.addEventListener("progress",a,!1),e},beforeSend:function(e){manywho.connection.beforeSend.call(l,e,i,r,t)}}).done(manywho.settings.event(t+".done")).fail(manywho.connection.onError).fail(manywho.settings.event(t+".fail"))},e}(),ReactDOM=window.ReactDOM||window.React,manywho.engine=function(e){function t(t,n){if(t){var o=e.utils.convertToArray(t).filter(function(t){return(!t.attributes||t.attributes.isExecuteRequestOnRenderDisabled!==!0&&!e.utils.isEqual(t.attributes.isExecuteRequestOnRenderDisabled,"true",!0))&&(null!=t.objectDataRequest||null!=t.fileDataRequest)});return $.when.apply($,o.map(function(t){if(t.isVisible){var o=e.settings.global("paging."+t.componentType),i=parseInt(t.attributes.paginationSize);return isNaN(i)||(o=i),t.fileDataRequest?e.engine.fileDataRequest(t.id,t.fileDataRequest,n,o):e.engine.objectDataRequest(t.id,t.objectDataRequest,n,o)}}))}}function n(t,n){return e.authorization.isAuthorized(t,n)?t:$.Deferred().reject(t).promise()}function o(t,n,o){null!=e.state.getSessionData(n)?e.authorization.authorizeBySession(t.authorizationContext.loginUrl,n,o):e.authorization.invokeAuthorization(t,n,o)}function i(t,n,o,i){if(o)return e.ajax.getNavigation(e.utils.extractStateId(t),n,o,e.utils.extractTenantId(t)).then(function(n){n&&e.model.parseNavigationResponse(o,n,t,i)});var r=new $.Deferred;return r.resolve(),r}function r(t,n){return e.ajax.getExecutionLog(e.utils.extractTenantId(t),e.utils.extractFlowId(t),e.utils.extractStateId(t),n).then(function(n){n&&e.model.setExecutionLog(t,n)})}function a(t,n){!n||n.responseText||0!==n.status&&500!==n.status&&504!==n.status?n&&e.model.addNotification(t,{message:n.responseText,position:"center",type:"danger",timeout:"0",dismissible:!0}):e.model.addNotification(t,{message:e.settings.global("errorMessage",t),position:"center",type:"danger",timeout:"0",dismissible:!0})}function l(t){var n=document.querySelector(e.settings.global("containerSelector",null,"#manywho"));n.classList.add("mw-bs");var o=document.createElement("div");return o.className="alert alert-danger initialize-error",o.innerText=t.statusText,n.insertBefore(o,n.children[0]),t}function u(u,s,c,d,f,m,p){var g,w=this,h=u.flowKey,y=h?e.utils.extractStateId(h):null,v=null,b=e.json.generateInitializationRequest({id:c,versionId:d},y,m.annotations,m.inputs,e.settings.global("playerUrl"),e.settings.global("joinUrl"),m.mode,m.reportingMode);return e.state.setOptions(m,h),h&&(e.state.setComponentLoading(e.utils.extractElement(h),{message:e.settings.global("localization.initializing")},h),w.render(h),p=p||e.state.getAuthenticationToken(h)),e.ajax.initialize(b,s,p).then(function(t){return sessionStorage.setItem("oauth-"+t.stateId,JSON.stringify({tenantId:s,flowId:c,flowVersionId:d,container:f,options:m})),h=e.utils.getFlowKey(s,c,d,t.stateId,f),null!=m.callbacks&&m.callbacks.length>0&&m.callbacks.forEach(function(t){e.callbacks.register(h,t)}),v=t.currentStreamId,u.flowKey=h,e.model.initializeModel(h),e.settings.initializeFlow(m,h),e.state.setState(t.stateId,t.stateToken,t.currentMapElementId,h),e.state.setAuthenticationToken(p,h),null!=m.authentication&&null!=m.authentication.sessionId&&e.state.setSessionData(m.authentication.sessionId,m.authentication.sessionUrl,h),t.navigationElementReferences&&t.navigationElementReferences.length>0&&e.model.setSelectedNavigation(t.navigationElementReferences[0].id,h),e.utils.isNullOrWhitespace(m.navigationElementId)||e.model.setSelectedNavigation(m.navigationElementId,h),e.component.appendFlowContainer(h),e.state.setComponentLoading(e.utils.extractElement(h),{message:e.settings.global("localization.initializing")},h),w.render(h),n(t,h)},l).then(function(t){e.settings.global("i18n.overrideTimezoneOffset",h)&&e.state.setUserTime(h),e.formatting.initialize(h);var n=e.json.generateInvokeRequest(e.state.getState(h),"FORWARD",null,null,null,g,null,e.settings.flow("annotations",h),e.state.getLocation(h),e.settings.flow("mode",h));return e.ajax.invoke(n,e.utils.extractTenantId(h),e.state.getAuthenticationToken(h))},function(e){o(e,h,u)}).then(function(t){sessionStorage.removeItem("oauth-"+t.stateId),w.parseResponse(t,e.model.parseEngineResponse,"initialize",h),e.state.setState(t.stateId,t.stateToken,t.currentMapElementId,h),e.collaboration.initialize(e.settings.flow("collaboration.isEnabled",h),h),e.collaboration.join("Another user",h),e.state.setLocation(h);var n=[],o=e.model.getSelectedNavigation(h);return e.utils.isNullOrWhitespace(o)||n.push(i(h,t.stateToken,o,t.currentMapElementId)),e.settings.isDebugEnabled(h)&&n.push(r(h,p)),v&&e.social.initialize(h,t.currentStreamId),e.utils.isEqual(t.invokeType,"DONE",!0)&&e.callbacks.execute(h,t.invokeType,null,t.currentMapElementId,[t]),$.whenAll(n)},function(e){a(h,e)}).always(function(){w.render(h),t(e.model.getComponents(h),h)}).then(function(){var t=e.settings.global("tours.autoStart",h,!1),n=e.settings.global("tours.container",h,null);t&&("string"==typeof t?e.tours.start(t,n,h):"boolean"==typeof t&&e.tours.start(null,n,h))}).always(function(){e.state.setComponentLoading(e.utils.extractElement(h),null,h),w.render(h)}).then(function(){return h})}function s(a,u){var s=this,u=u||a.flowKey,c=e.state.getAuthenticationToken(u),d=e.state.getState(u),f=!1;return e.state.setComponentLoading(e.utils.extractElement(u),{message:e.settings.global("localization.joining")},u),s.render(u),e.settings.global("i18n.overrideTimezoneOffset",u)&&e.state.setUserTime(u),e.formatting.initialize(u),e.ajax.join(d.id,e.utils.extractTenantId(u),c).then(function(e){return n(e,u)},l).then(function(t){f=!0,sessionStorage.removeItem("oauth-"+t.stateId),e.model.initializeModel(u),s.parseResponse(t,e.model.parseEngineResponse,"join",u),e.state.setState(t.stateId,t.stateToken,t.currentMapElementId,u),e.collaboration.isInitialized(u)||(e.collaboration.initialize(e.settings.flow("collaboration.isEnabled",u),u),e.collaboration.join("Another user",u)),e.state.setLocation(u);var n=[];return t.navigationElementReferences&&t.navigationElementReferences.length>0&&(e.model.setSelectedNavigation(t.navigationElementReferences[0].id,u),n.push(i(u,t.stateToken,t.navigationElementReferences[0].id,t.currentMapElementId))),e.settings.isDebugEnabled(u)&&n.push(r(u,c)),t.currentStreamId&&e.social.initialize(u,t.currentStreamId),$.whenAll(n)},function(e){o(e,u,a)}).always(function(){return s.render(u),t(e.model.getComponents(u),u)}).always(function(){f&&(e.state.setComponentLoading(e.utils.extractElement(u),null,u),s.render(u))}).then(function(){return u})}function c(o,l,u){var s=this,u=o.flowKey||u,c=e.state.getAuthenticationToken(u),d=null,f=null,m=l.mapElementInvokeRequest.selectedOutcomeId;return m&&(f=e.model.getOutcome(l.mapElementInvokeRequest.selectedOutcomeId,u)),e.settings.global("history",u)&&e.model.setHistorySelectedOutcome(l.mapElementInvokeRequest.selectedOutcomeId,l.invokeType,u),e.ajax.invoke(l,e.utils.extractTenantId(u),c).then(function(e){return n(e,u)},function(e){a(u,e)}).then(function(t){return d=t,s.parseResponse(t,e.model.parseEngineResponse,"move",u),e.state.setState(t.stateId,t.stateToken,t.currentMapElementId,u),e.state.setLocation(u),t.mapElementInvokeResponses[0].outcomeResponses&&(f=t.mapElementInvokeResponses[0].outcomeResponses.filter(function(e){return e.id==m})[0]),!e.collaboration.isInitialized(u)||f&&f.isOut||e.collaboration.move(u),t},function(t){t&&e.authorization.invokeAuthorization(t,u,o)}).then(function(t){var n=e.model.getSelectedNavigation(u),o=[];return e.utils.isNullOrWhitespace(n)||o.push(i(u,d.stateToken,n)),e.settings.isDebugEnabled(u)&&o.push(r(u,c)),$.whenAll(o)}).always(function(){(f&&!f.isOut||!f)&&s.render(u),e.component.focusInput(u),e.component.scrollToTop(u)}).always(function(){e.state.setComponentLoading(e.utils.extractElement(u),null,u),(f&&!f.isOut||!f)&&s.render(u)}).always(function(){return t(e.model.getComponents(u),u)}).then(function(){d&&(e.callbacks.execute(u,d.invokeType,null,d.currentMapElementId,[d]),d=null)}).then(function(){e.tours.refresh()}).always(function(){var t=e.utils.getLookUpKey(u),n=document.getElementById(t);if(n){var o=n.querySelector(".main-scroller");o&&(o.scrollTop=0)}})}function d(t,n,o,i){if(e.utils.isNullOrWhitespace(o)&&!e.utils.isNullOrWhitespace(n.responseText))try{e.state.setComponentError(t,JSON.parse(n.responseText),i)}catch(r){e.state.setComponentError(t,n.responseText,i)}else e.state.setComponentError(t,o,i)}return{initialize:function(t,n,o,i,r,a,l,s){if(l=l||{},s=!!s&&"true"===s.toLowerCase(),a&&(a=decodeURI(a)),!(t||r&&(n||o)))return void e.log.error("tenantId & stateId, or tenatntId & flowId & flowVersionId must be specified");l.theme&&e.theming.apply(l.theme);var c=sessionStorage.getItem("oauth-"+r),d=r?!e.utils.isNullOrWhitespace(c)&&JSON.parse(c):null;if(d||(d={tenantId:t,flowId:n,flowVersionId:o,container:i,options:l}),window.navigator.language){var f=window.navigator.language.split("-");2==f.length&&numbro.culture(f[0]+"-"+f[1].toUpperCase())}return!r||s?u.call(this,{execute:u.bind(this),args:[d.tenantId,d.flowId,d.flowVersionId,d.container,d.options,a||null],name:"initialize",type:"done",context:this},d.tenantId,d.flowId,d.flowVersionId,d.container,d.options,a):void this.join(d.tenantId,d.flowId,d.flowVersionId,d.container,r,a,d.options)},move:function(t,n){if(t&&e.utils.isEqual(t.pageActionBindingType,"SAVE",!0)&&e.settings.global("validation.isEnabled",n)){var o=e.state.isAllValid(n);if(!o){e.engine.render(n),setTimeout(function(){e.validation.scrollToInvalidElement(n),e.validation.addNotification(n)},0);var i=jQuery.Deferred();return i.fail(),i}}t&&!t.isOut&&(e.state.setComponentLoading(e.utils.extractElement(n),{message:e.settings.global("localization.executing")},n),this.render(n));var r=e.json.generateInvokeRequest(e.state.getState(n),"FORWARD",t.id,null,e.state.getPageComponentInputResponseRequests(n),e.model.getDefaultNavigationId(n),null,e.settings.flow("annotations",n),e.state.getLocation(n),e.settings.flow("mode",n));return c.call(this,{execute:c,context:this,args:[r,n],name:"invoke",type:"done"},r,n)},flowOut:function(t,n){var o=e.utils.extractTenantId(n),i=e.state.getAuthenticationToken(n);return e.ajax.flowOut(e.utils.extractStateId(n),o,t.id,i).then(function(t){var r=e.state.getOptions(n),a=e.utils.getFlowKey(o,null,null,t.stateId,e.utils.extractElement(n));e.collaboration.flowOut(n,t.stateId,a),e.utils.removeFlow(n),e.engine.join(o,null,null,"main",t.stateId,i,r)})},returnToParent:function(t,n){var o=e.utils.extractTenantId(t),i=e.state.getAuthenticationToken(t),r=e.state.getOptions(t);e.state.setComponentLoading(e.utils.extractElement(t),null,t),this.render(t),e.collaboration.returnToParent(t,n),e.utils.removeFlow(t),e.engine.join(o,null,null,"main",n,i,r)},sync:function(n){var o=e.json.generateInvokeRequest(e.state.getState(n),"SYNC",null,null,e.state.getPageComponentInputResponseRequests(n),null,null,e.settings.flow("annotations",n),e.state.getLocation(n),e.settings.flow("mode",n)),i=this;return e.state.setComponentLoading(e.utils.extractElement(n),{message:e.settings.global("localization.syncing")},n),this.render(n),e.ajax.invoke(o,e.utils.extractTenantId(n),e.state.getAuthenticationToken(n)).then(function(o){return e.utils.isEqual(o.invokeType,"wait",!0)?void setTimeout(function(){i.sync(n)},100):(i.parseResponse(o,e.model.parseEngineSyncResponse,"sync",n),t(e.model.getComponents(n),n))}).always(function(){e.state.setComponentLoading(e.utils.extractElement(n),null,n)}).always(function(){e.engine.render(n)})},navigate:function(t,n,o,i){e.state.setComponentLoading("main",{message:e.settings.global("localization.navigating")},i),this.render(i);var r=e.json.generateNavigateRequest(e.state.getState(i),t,n,o,e.state.getPageComponentInputResponseRequests(i),e.settings.flow("annotations",i),e.state.getLocation(i));c.call(this,{execute:c,context:this,args:[r,i],name:"invoke",type:"done"},r,i)},join:function(t,n,o,i,r,a,l){var u=e.utils.getFlowKey(t,n,o,r,i);return l&&null!=l.authentication&&null!=l.authentication.sessionId&&e.state.setSessionData(l.authentication.sessionId,l.authentication.sessionUrl,u),l&&null!=l.callbacks&&l.callbacks.length>0&&l.callbacks.forEach(function(t){e.callbacks.register(u,t)}),e.model.initializeModel(u),e.settings.initializeFlow(l,u),e.state.setAuthenticationToken(a,u),e.state.setState(r,null,null,u),e.state.setOptions(l,u),e.component.appendFlowContainer(u),sessionStorage.setItem("oauth-"+r,JSON.stringify({tenantId:t,flowId:n,flowVersionId:o,container:i,options:l})),s.call(this,{execute:s.bind(this),args:[u],name:"invoke",type:"done",context:this},u)},objectDataRequest:function(t,n,o,i,r,a,l,u){var s=this;return e.state.setComponentLoading(t,{message:e.settings.global("localization.loading")},o),s.render(o),e.ajax.dispatchObjectDataRequest(n,e.utils.extractTenantId(o),e.utils.extractStateId(o),e.state.getAuthenticationToken(o),i,r,a,l,u).then(function(n){var i=e.model.getComponent(t,o);i.objectData=n.objectData,i.objectDataRequest.hasMoreResults=n.hasMoreResults,e.state.setComponentError(t,null,o)}).fail(function(e,n,i){d(t,e,i,o)}).always(function(){e.state.setComponentLoading(t,null,o),s.render(o)})},fileDataRequest:function(t,n,o,i,r,a,l,u){var s=this;return e.state.setComponentLoading(t,{message:e.settings.global("localization.loading")},o),s.render(o),e.ajax.dispatchFileDataRequest(n,e.utils.extractTenantId(o),e.utils.extractStateId(o),e.state.getAuthenticationToken(o),i,r,a,l,u).then(function(n){var i=e.model.getComponent(t,o);i.objectData=n.objectData,i.fileDataRequest.hasMoreResults=n.hasMoreResults}).fail(function(e,n,i){d(t,e,i,o)}).always(function(){e.state.setComponentLoading(t,null,o),s.render(o)})},toggleDebug:function(t){e.settings.isDebugEnabled(t,!e.settings.isDebugEnabled(t)),this.render(t)},parseResponse:function(t,n,o,i){n.call(e.model,t,i),e.state.setState(t.stateId,t.stateToken,t.currentMapElementId,i),e.state.refreshComponents(e.model.getComponents(i),o,i),e.settings.flow("replaceUrl",i)&&e.utils.replaceBrowserUrl(t),(e.utils.isEqual(t.invokeType,"wait",!0)||e.utils.isEqual(t.invokeType,"status",!0))&&e.engine.ping(i)},ping:function(t){if(e.utils.isEqual(e.model.getInvokeType(t),"wait",!0)||e.utils.isEqual(e.model.getInvokeType(t),"status",!0)){var n=e.state.getState(t),o=this;e.ajax.ping(e.utils.extractTenantId(t),n.id,n.token,e.state.getAuthenticationToken(t)).then(function(i){if(i){var r=e.state.getOptions(t);o.join(e.utils.extractTenantId(t),e.utils.extractFlowId(t),e.utils.extractFlowVersionId(t),e.utils.extractElement(t),n.id,e.state.getAuthenticationToken(t),r)}else setTimeout(function(){o.ping(t)},1e4)})}},render:function(t){var n=e.utils.getLookUpKey(t),o=document.getElementById(n);e.utils.isEqual(e.utils.extractElement(t),"modal-standalone",!0)&&(o=document.querySelector(e.settings.global("containerSelector",t,"#manywho")));var i=e.state.getLogin(t);i?ReactDOM.render(React.createElement(e.component.getByName("mw-login"),{flowKey:t,api:"run",callback:i.callback,stateId:i.stateId,directoryName:i.directoryName,loginUrl:i.loginUrl}),o):ReactDOM.render(React.createElement(e.component.getByName(e.utils.extractElement(t)),{flowKey:t,container:o}),o)}}}(manywho),manywho.formatting=function(e,t){var n=new RegExp("[^dmyhsztkfg]+","gi"),o=[{key:"d",value:"D"},{key:"dd",value:"DD"},{key:"ddd",value:"ddd"},{key:"dddd",value:"dddd"},{key:"f",value:"S"},{key:"ff",value:"SS"},{key:"fff",value:"SSS"},{key:"ffff",value:"SSSS"},{key:"fffff",value:"SSSSS"},{key:"ffffff",value:"SSSSSS"},{key:"F",value:"S"},{key:"FF",value:"SS"},{key:"FFF",value:"SSS"},{key:"FFFF",value:"SSSS"},{key:"FFFFF",value:"SSSSS"},{key:"FFFFFF",value:"SSSSSS"},{key:"h",value:"h"},{key:"hh",value:"hh"},{key:"H",value:"HH"},{key:"HH",value:"HH"},{key:"K",value:"Z"},{key:"m",value:"m"},{key:"mm",value:"mm"},{key:"M",value:"M"},{key:"MM",value:"MM"},{key:"MMM",value:"MMM"},{key:"MMMM",value:"MMMM"},{key:"s",value:"s"},{key:"ss",value:"ss"},{key:"t",value:"a"},{key:"tt",value:"A"},{key:"y",value:"YY"},{key:"yy",value:"YY"},{key:"yyy",value:"YYYY"},{key:"yyyy",value:"YYYY"},{key:"z",value:"ZZ"},{key:"zz",value:"ZZ"},{key:"zzz",value:"ZZ"}],i="en-US";return{initialize:function(t){if(e.settings.global("i18n.culture",t)&&numbro)i=e.settings.global("i18n.culture",t);else if(window.navigator&&window.navigator.language&&window.navigator.language.indexOf("-")!==-1){var n=window.navigator.language.split("-"),o=n[0].toLowerCase()+"-"+n[1].toUpperCase();i=numbro.cultures()[o]?o:"en-US"}else i="en-US"},format:function(t,n,o,i){if(!e.settings.global("formatting.isEnabled",i,!1)||e.utils.isNullOrWhitespace(o))return t;switch(o.toUpperCase()){case e.component.contentTypes.datetime:return e.formatting.dateTime(t,n,i);case e.component.contentTypes.number:return e.formatting.number(t,n,i)}return t},toMomentFormat:function(t){if(!e.utils.isNullOrEmpty(t)){if("d"===t)return"l";if("D"===t)return"dddd, MMMM DD, YYYY";if("f"===t)return"LLLL";if("F"===t)return"dddd, LL LTS";if("g"===t)return"L LT";if("G"===t)return"L LTS";if("m"===t)return"MMMM D";if("r"===t)return"ddd, DD MMM YYYY HH:mm:ss [GMT]";if("s"===t)return"YYYY-MM-DD[T]HH:mm:ss";if("t"===t)return"LT";if("T"===t)return"LTS";if("u"===t)return"YYYY-MM-DD HH:mm:ss[Z]";if("U"===t)return"dddd, LL LTS";if("y"===t)return"MMMM YYYY";var i=t.split(n);if(i){var r=t;return i.forEach(function(e){var t=o.find(function(t){return t.key===e});r=t?r.replace(e,t.value):r}),r}}return null},dateTime:function(n,o,i){if(!e.settings.global("formatting.isEnabled",i,!1))return n;var r=t().utcOffset(),a=e.settings.global("i18n.overrideTimezoneOffset",i);if(a&&!e.utils.isNullOrUndefined(e.settings.global("i18n.timezoneOffset",i))&&(r=e.settings.global("i18n.timezoneOffset",i)),(e.utils.isNullOrUndefined(r)||0===r)&&e.utils.isNullOrWhitespace(o)&&!a)return n;try{var l=e.utils.isNullOrWhitespace(o)?null:e.formatting.toMomentFormat(o),u=[t.ISO_8601];l&&u.unshift(l);var s=t.utc(n,u);return s.isValid()?("r"!==o&&"u"!==o&&a&&s.utcOffset(r),a?s.format(l):s.utc().format(l)):n}catch(c){e.log.error(c)}return n},number:function(t,n,o){if(e.utils.isNullOrWhitespace(n)||!e.settings.global("formatting.isEnabled",o,!1))return t.toString();if("string"==typeof t&&e.utils.isNullOrWhitespace(t))return t;try{if(n.indexOf("e")!==-1||n.indexOf("E")!==-1)return new Number(t).toExponential();if(n.indexOf("c")!==-1||n.indexOf("C")!==-1){var r=numbro(t);return numbro.culture(i),r=r.formatCurrency(e.settings.global("formatting.currency",o,"0[.]00")),numbro.culture("en-US"),r}if(n=n.replace(/^#+\./,function(e){return e.replace(/#/g,"0")}),n.indexOf(".")!==-1){var a=t.toString(),l=a.substring(a.indexOf(".")+1),u=n.substring(n.indexOf(".")+1);n=n.substring(0,n.indexOf(".")+1),u.split("").forEach(function(e,t){switch(e.toUpperCase()){case"#":t<l.length&&(n+=0);break;case"0":n+="0";break;default:n+=e}})}var s=numbro(t);return numbro.culture(i),s=s.format(n),numbro.culture("en-US"),s}catch(c){e.log.error(c)}return t.toString()}}}(manywho,moment),manywho.json={generateFlowInputs:function(e){return e&&!Array.isArray(e)&&(e=[e]),e.map(function(e){for(var t in e)return e[t].objectData?{contentType:e[t].objectData.length>1?"ContentList":"ContentObject",contentValue:null,developerName:t,objectData:[e[t].objectData],typeElementDeveloperName:e[t].typeElementDeveloperName||null}:e[t].contentType&&e[t].developerName?e[t]:{contentType:"Content"+(typeof e[t]).charAt(0).toUpperCase()+(typeof e[t]).substring(1).toLowerCase()||"ContentString",contentValue:e[t],developerName:t,objectData:null,typeElementDeveloperName:null}})},generateInitializationRequest:function(e,t,n,o,i,r,a,l){return{flowId:{id:e.id,versionId:e.versionid||e.versionId||null},stateId:t||null,annotations:n||null,inputs:o||null,playerUrl:i||null,joinPlayerUrl:r||null,mode:a||"",reportingMode:l||""}},generateInvokeRequest:function(e,t,n,o,i,r,a,l,u,s){return{stateId:e.id,stateToken:e.token,currentMapElementId:e.currentMapElementId,invokeType:t,annotations:l||null,geoLocation:u||null,mapElementInvokeRequest:{pageRequest:{pageComponentInputResponses:i||null},selectedOutcomeId:n||null},mode:s||"",selectedMapElementId:o||null,navigationElementId:r||null,selectedNavigationElementId:a||null}},generateNavigateRequest:function(e,t,n,o,i,r,a){return{stateId:e.id,stateToken:e.token,currentMapElementId:e.currentMapElementId,invokeType:"NAVIGATE",navigationElementId:t,selectedMapElementId:o,selectedNavigationItemId:n,annotations:r||null,geoLocation:a||null,mapElementInvokeRequest:{pageRequest:{pageComponentInputResponses:i||null},selectedOutcomeId:null}}},generateSessionRequest:function(e,t,n,o,i,r){return{sessionToken:e,sessionUrl:t,loginUrl:n,username:o||null,password:i||null,token:r||null}}},manywho.log=function(e){return log.noConflict()}(manywho),function(e){function t(e,t){return e.contentValue&&(t.innerHTML=e.contentValue,e.contentValue=t.textContent,t.textContent=""),e.objectData&&e.objectData.forEach(function(e){e.properties&&(e.properties=e.properties.map(function(e){return e.contentValue&&(t.innerHTML=e.contentValue,e.contentValue=t.textContent,t.textContent=""),e}))}),e}function n(t,n,o){e.log.info("Updating item: "+n.id);var i=e.utils.get(t,n.id,o);return null!=i?(n.hasOwnProperty("contentType")&&null==n.contentType&&(n.contentType=e.component.contentTypes.string),e.utils.extend({},[n,i])):n}function o(e,t,n,i){if(i=i||"pageContainerResponses",null!=e)for(var r=0;r<e.length;r++){var a=e[r];t&&(a.parent=t.id,t.childCount=e.length),n.push(a),o(a[i],a,n,i)}return n}function i(t,n){var o={};return t&&t.forEach(function(t){var r=n.filter(function(n){return e.utils.isEqual(n.navigationItemId,t.id,!0)})[0];o[t.id]=e.utils.extend({},[t,r]),null!=t.navigationItems&&(o[t.id].items=i(t.navigationItems,n))},this),o}function r(e){var t=Object.keys(l[e].containers).map(function(t){return l[e].containers[t]}),n=Object.keys(l[e].components).map(function(t){return l[e].components[t]}),o=Object.keys(l[e].outcomes).map(function(t){return l[e].outcomes[t]});t.filter(function(e){return!e.parent}).forEach(function(e){a(e,t,n,o)})}function a(t,n,o,i){var r=n.filter(function(e){return e.parent==t.id});r.forEach(function(e){a(e,n,o,i)});var l=o.filter(function(e){return e.pageContainerId==t.id&&e.isVisible}),u=i.filter(function(e){return e.pageContainerId==t.id});r=r.filter(function(e){return e.isVisible}),0===l.length&&0===u.length&&0===r.length&&e.utils.isNullOrWhitespace(t.label)&&(t.isVisible=!1)}var l={};e.model={parseEngineResponse:function(t,n){var o=e.utils.getLookUpKey(n);if(l[o].containers={},l[o].components={},l[o].outcomes={},l[o].label=null,l[o].notifications=[],l[o].stateValues=[],l[o].preCommitStateValues=[],l[o].rootFaults=[],t&&(l[o].parentStateId=t.parentStateId),t&&t.mapElementInvokeResponses){if(l[o].invokeType=t.invokeType,l[o].waitMessage=t.notAuthorizedMessage||t.waitMessage,l[o].vote=t.voteResponse||null,t.mapElementInvokeResponses[0].pageResponse&&(l[o].label=t.mapElementInvokeResponses[0].pageResponse.label,e.model.setAttributes(n,t.mapElementInvokeResponses[0].pageResponse.attributes||null),this.setContainers(n,t.mapElementInvokeResponses[0].pageResponse.pageContainerResponses,t.mapElementInvokeResponses[0].pageResponse.pageContainerDataResponses),this.setComponents(n,t.mapElementInvokeResponses[0].pageResponse.pageComponentResponses,t.mapElementInvokeResponses[0].pageResponse.pageComponentDataResponses)),t.mapElementInvokeResponses[0].outcomeResponses&&t.mapElementInvokeResponses[0].outcomeResponses.forEach(function(e){l[o].outcomes[e.id.toLowerCase()]=e},this),r(o),t.mapElementInvokeResponses[0].rootFaults){l[o].rootFaults=[],l[o].notifications=l[o].notifications||[];for(faultName in t.mapElementInvokeResponses[0].rootFaults){var i=null;try{i=JSON.parse(t.mapElementInvokeResponses[0].rootFaults[faultName])}catch(a){i={message:t.mapElementInvokeResponses[0].rootFaults[faultName]}}i.name=faultName,l[o].rootFaults.push(i),l[o].notifications.push({message:i.message,position:"center",type:"danger",timeout:"0",dismissible:!0})}e.state.setComponentLoading(e.utils.extractElement(n),null,n)}switch(e.settings.global("history",n)&&e.utils.isEqual(t.invokeType,"FORWARD",!0)&&e.model.setHistory(t,n),l[o].preCommitStateValues=t.preCommitStateValues,l[o].stateValues=t.stateValues,t.invokeType.toLowerCase()){
case"wait":e.state.setComponentLoading("main",{message:t.waitMessage},n)}}else e.utils.isEqual(t.invokeType,"not_allowed",!0)&&l[o].notifications.push({message:"You are not authorized to access this content. Please contact your administrator for more details.",position:"center",type:"danger",timeout:"0",dismissible:!1})},parseEngineSyncResponse:function(t,n){var o=e.utils.getLookUpKey(n);t.invokeType&&(l[o].invokeType=t.invokeType),t.mapElementInvokeResponses&&(t.mapElementInvokeResponses[0].pageResponse.pageContainerDataResponses.forEach(function(n){var i=n.pageContainerId;e.utils.isEqual(t.mapElementInvokeResponses[0].developerName,"step")&&(i=Object.keys(l[o].containers)[0]),l[o].containers[i]=e.utils.extend(l[o].containers[i],n)},this),t.mapElementInvokeResponses[0].pageResponse.pageComponentDataResponses.forEach(function(t){l[o].components[t.pageComponentId]=e.utils.extend(l[o].components[t.pageComponentId],t)},this),r(o))},parseNavigationResponse:function(t,n,o,r){var a=e.utils.getLookUpKey(o);l[a].navigation={},l[a].navigation[t]={culture:n.culture,developerName:n.developerName,label:n.label,tags:n.tags},l[a].navigation[t].items=i(n.navigationItemResponses,n.navigationItemDataResponses),l[a].navigation[t].isVisible=n.isVisible,l[a].navigation[t].isEnabled=n.isEnabled;var u=null;for(itemId in l[a].navigation[t].items)if(l[a].navigation[t].items[itemId].isCurrent){selected=l[a].navigation[t].items[itemId];break}if(null==u&&r)for(itemId in l[a].navigation[t].items)if(e.utils.isEqual(l[a].navigation[t].items[itemId].locationMapElementId,r)){l[a].navigation[t].items[itemId].isCurrent=!0;break}var s=this.getParentStateId(o);s&&(l[a].navigation[t].returnToParent=React.createElement(e.component.getByName("returnToParent"),{flowKey:o,parentStateId:s}))},getLabel:function(t){var n=e.utils.getLookUpKey(t);return l[n].label},getChildren:function(t,n){var o=e.utils.getLookUpKey(n);if(void 0===l[o]||void 0===l[o].containers)return[];if("root"==t)return e.utils.getAll(l[o].containers,null,"parent");var i=[],r=l[o].containers[t];return null!=r&&(i=i.concat(e.utils.getAll(l[o].containers,t,"parent")),i=i.concat(e.utils.getAll(l[o].components,t,"pageContainerId"))),i.sort(function(e,t){return e.order-t.order}),i},getContainer:function(t,n){var o=e.utils.getLookUpKey(n);return l[o].containers[t]},getComponent:function(t,n){var o=e.utils.getLookUpKey(n);return l[o].components[t]},getComponentByName:function(t,n){var o=e.utils.getLookUpKey(n),i=l[o].components;if(i)for(var r in i)if(e.utils.isEqual(t,i[r].developerName,!0))return i[r];return null},getComponents:function(t){var n=e.utils.getLookUpKey(t);return l[n].components},getOutcome:function(t,n){var o=e.utils.getLookUpKey(n);if(l[o].outcomes)return l[o].outcomes[t.toLowerCase()]},getOutcomes:function(t,n){var o=e.utils.getLookUpKey(n);if(void 0===l[o]||void 0===l[o].outcomes)return[];var i=e.utils.convertToArray(l[o].outcomes)||[];return i.sort(function(e,t){return e.order-t.order}),i.filter(function(n){return!e.utils.isNullOrWhitespace(t)&&e.utils.isEqual(n.pageObjectBindingId,t,!0)||(e.utils.isNullOrWhitespace(t)||e.utils.isEqual(t,"root",!0))&&e.utils.isNullOrWhitespace(n.pageObjectBindingId)})},getNotifications:function(t,n){var o=e.utils.getLookUpKey(t);return l[o].notifications?l[o].notifications.filter(function(t){return e.utils.isEqual(t.position,n,!0)}):[]},removeNotification:function(t,n){var o=e.utils.getLookUpKey(t);if(l[o]){var i=l[o].notifications.indexOf(n);l[o].notifications.splice(i,1),e.engine.render(t)}},addNotification:function(t,n){var o=e.utils.getLookUpKey(t);l[o]&&(l[o].notifications=l[o].notifications||[],l[o].notifications.push(n),e.engine.render(t))},getSelectedNavigation:function(t){var n=e.utils.getLookUpKey(t);return l[n].selectedNavigation},setSelectedNavigation:function(t,n){var o=e.utils.getLookUpKey(n);l[o].selectedNavigation=t},getNavigation:function(t,n){var o=e.utils.getLookUpKey(n);if(t)return l[o].navigation[t]},getDefaultNavigationId:function(t){var n=e.utils.getLookUpKey(t);if(l[n].navigation)return Object.keys(l[n].navigation)[0]},getItem:function(e,t){var n=this.getContainer(e,t);return null!=n?n:(n=this.getComponent(e,t),null!=n?n:(n=this.getOutcome(e,t),null!=n?n:(n=this.getNavigation(e,t),null!=n?n:void 0)))},getInvokeType:function(t){var n=e.utils.getLookUpKey(t);return l[n].invokeType},getWaitMessage:function(t){var n=e.utils.getLookUpKey(t);return l[n].waitMessage},setComponentInputResponseRequest:function(e,t,n){this.componentInputResponseRequests[e].contentValue=t,this.componentInputResponseRequests[e].objectData=n},getPreCommitStateValues:function(t){var n=e.utils.getLookUpKey(t);return l[n].preCommitStateValues},getStateValues:function(t){var n=e.utils.getLookUpKey(t);return l[n].stateValues},getExecutionLog:function(t){var n=e.utils.getLookUpKey(t);return l[n].executionLog},setExecutionLog:function(t,n){var o=e.utils.getLookUpKey(t);l[o].executionLog=n},getHistory:function(t){var n=e.utils.getLookUpKey(t);return l[n].history||(l[n].history=[]),l[n].history},setHistory:function(t,n){var o=e.utils.getLookUpKey(n);l[o].history||(l[o].history=[]),l[o].lastInvoke||(l[o].lastInvoke="FORWARD");var i=l[o].history.length;if(e.utils.isEqual(l[o].lastInvoke,"FORWARD",!0)){if(t.mapElementInvokeResponses[0].outcomeResponses)var r=t.mapElementInvokeResponses[0].outcomeResponses.map(function(e){return{name:e.developerName,id:e.id,label:e.label,order:e.order}});l[o].history[i]=e.utils.extend(l[o].history[i]||{},[{name:t.mapElementInvokeResponses[0].developerName,id:t.mapElementInvokeResponses[0].mapElementId,label:t.mapElementInvokeResponses[0].pageResponse.label,content:t.mapElementInvokeResponses[0].pageResponse.pageComponentDataResponses[0].content||"",outcomes:r}])}},setHistorySelectedOutcome:function(t,n,o){var i=e.utils.getLookUpKey(o);if(l[i].lastInvoke=n,t){l[i].history||(l[i].history=[]);var r=l[i].history.length-1;l[i].history[r]||(l[i].history[r]={}),l[i].history[r].selectedOutcome=t}},popLastHistory:function(t){var n=e.utils.getLookUpKey(t);l[n].history.pop()},popHistory:function(t,n){for(var o=e.utils.getLookUpKey(n),i=l[o].history.length,r=i;r>0;r--){var a=l[o].history[r-1];if(a.id==t)break;l[o].history.pop()}},isContainer:function(t){return!e.utils.isNullOrWhitespace(t.containerType)},initializeModel:function(t){var n=e.utils.getLookUpKey(t);l[n]||(l[n]={})},getContentValue:function(e,t){if(null!=e){var n=null;return e.filter(function(e){e.developerName==t&&(n=e.contentValue)}),n}},getObjectData:function(e,t){if(null!=e){var n=null;return e.filter(function(e){e.developerName==t&&(n=e.objectData)}),n}},getAttributes:function(t){var n=e.utils.getLookUpKey(t);return l[n].attributes},getParentStateId:function(t){var n=e.utils.getLookUpKey(t);return l[n].parentStateId},deleteFlowModel:function(t){var n=e.utils.getLookUpKey(t);l[n]=null,delete l[n]},getRootFaults:function(t){var n=e.utils.getLookUpKey(t);return l[n].rootFaults||[]},setContainers:function(t,i,r,a){var u=e.utils.getLookUpKey(t);if(a=a||"pageContainerResponses",i){l[u].containers={};var s=o(i,null,[],a);s.forEach(function(t){l[u].containers[t.id]=t,r&&e.utils.contains(r,t.id,"pageContainerId")&&(l[u].containers[t.id]=n(r,t,"pageContainerId"))},this)}},setComponents:function(o,i,r){var a=e.utils.getLookUpKey(o);if(i){l[a].components={};var u=document.createElement("textarea");i.forEach(function(o){o.attributes=o.attributes||{},l[a].components[o.id]=o,l[a].containers[o.pageContainerId].childCount||(l[a].containers[o.pageContainerId].childCount=0),l[a].containers[o.pageContainerId].childCount++,r&&e.utils.contains(r,o.id,"pageComponentId")&&(l[a].components[o.id]=n(r,o,"pageComponentId")),l[a].components[o.id]=t(l[a].components[o.id],u)},this)}},setAttributes:function(t,n){var o=e.utils.getLookUpKey(t);l[o].attributes=n},setModal:function(t,n){var o=e.utils.getLookUpKey(t);l[o].modal=n,e.engine.render(t)},getModal:function(t,n){var o=e.utils.getLookUpKey(t);return l[o].modal}}}(manywho=manywho||{}),manywho.settings=function(e,t){var n={localization:{initializing:"",executing:"",loading:"",navigating:"",syncing:"",joining:"Joining",sending:"Sending",returnToParent:"Return To Parent",noResults:"No Results",status:null,validation:{required:"This field is required",invalid:"This valid is invalid",notification:"Page contains invalid values"},searchFirst:"Perform a search to display results here"},i18n:{overrideTimezoneOffset:!1,timezoneOffset:null,culture:null},paging:{table:10,files:10,select:250,tiles:20},collaboration:{uri:"https://realtime.manywho.com"},platform:{uri:""},navigation:{isFixed:!0,isWizard:!1},files:{downloadUriPropertyId:"6611067a-7c86-4696-8845-3cdc79c73289",downloadUriPropertyName:"Download Uri"},richText:{url:"https://cdn.tinymce.com/4/tinymce.min.js",fontSize:"14px",plugins:["advlist autolink link lists link image charmap print hr anchor","searchreplace visualblocks fullscreen wordcount code insertdatetime","media table directionality emoticons contextmenu paste textcolor"],toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link mwimage"},errorMessage:"Whoops, something went wrong inside ManyWho - if this keeps happening, contact us at support@manywho.com",outcomes:{display:null,isFixed:!1},shortcuts:{progressOnEnter:!0},isFullWidth:!1,collapsible:{"default":{enabled:!1,collapsed:!1,group:null}},history:!1,containerSelector:"#manywho",syncOnUnload:!0,toggle:{shape:"round",background:null},charts:{backgroundColors:["#42a5f5","#66bb6a","#ef5350","#ab47bc","#ffa726","#78909c","#5c6bc0"],borderColors:["#42a5f5","#66bb6a","#ef5350","#ab47bc","#ffa726","#78909c","#5c6bc0"],options:{},bar:{options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}},line:{options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}},polarArea:{backgroundColors:["rgba(66, 165, 245, 0.4)","rgba(102, 187, 106, 0.4)","rgba(239, 83, 80, 0.4)","rgba(171, 71, 188, 0.4)","rgba(255, 167, 38, 0.4)","rgba(120, 144, 156, 0.4)","rgba(92, 107, 192, 0.4)"]}},validation:{isEnabled:!1,scroll:{isEnabled:!1,selector:".has-error"},notification:{isEnabled:!0},when:["move"]},location:{isTrackingEnabled:!1},formatting:{isEnabled:!1,currency:"0.00"},tours:{defaults:{target:null,title:null,content:null,placement:"bottom",showNext:!0,showBack:!0,offset:null,align:"center",order:null,querySelector:!1},autoStart:!1,container:".mw-bs"},components:{"static":[]}},o={},i={url:"/css/themes"},r={initialization:{},invoke:{},sync:{},navigation:{},join:{},flowOut:{},login:{},log:{},objectData:{},fileData:{},getFlowByName:{},sessionAuthentication:{},social:{},ping:{}};return{initialize:function(e,o){n=t.extend(!0,{},n,e),r=t.extend(!0,{},r,o)},initializeFlow:function(i,r){var a=e.utils.getLookUpKey(r);o[a]=t.extend(!0,{},n,i)},global:function(t,i,r){var a=e.utils.getLookUpKey(i),l=e.utils.getValueByPath(n,t.toLowerCase());if(i){var u=e.utils.getValueByPath(o[a]||{},t.toLowerCase());if("undefined"!=typeof u)return u;if("undefined"!=typeof l)return l;if("undefined"!=typeof r)return r}return l},flow:function(t,n){var i=e.utils.getLookUpKey(n);return e.utils.isNullOrWhitespace(t)?o[i]:e.utils.getValueByPath(o[i]||{},t.toLowerCase())},event:function(t){return e.utils.getValueByPath(r,t.toLowerCase())},theme:function(t){return e.utils.getValueByPath(i,t.toLowerCase())},isDebugEnabled:function(t,n){var i=e.utils.getLookUpKey(t);return"undefined"==typeof n?e.utils.isEqual(this.flow("mode",t),"Debug",!0)||e.utils.isEqual(this.flow("mode",t),"Debug_StepThrough",!0):void(n?o[i].mode="Debug":o[i].mode="")},remove:function(t){var n=e.utils.getLookUpKey(t);null==o[n],delete o[n]}}}(manywho,jQuery),manywho.social=function(e){var t={};return{initialize:function(n,o){var i=e.utils.getLookUpKey(n);e.state.setComponentLoading("feed",{message:e.settings.global("localization.loading")},n);var r=e.utils.extractTenantId(n),a=e.utils.extractStateId(n),l=e.state.getAuthenticationToken(n);return t[i]={id:o},e.ajax.getSocialMe(r,o,a,l).then(function(n){return t[i].me=n,e.ajax.getSocialFollowers(r,o,a,l)}).then(function(n){return t[i].followers=n,e.ajax.getSocialMessages(r,o,a,1,10,l)}).then(function(o){t[i].messages=o,e.state.setComponentLoading("feed",null,n),e.engine.render(n)})},getStream:function(n){var o=e.utils.getLookUpKey(n);return t[o]},refreshMessages:function(n){var o=e.utils.getLookUpKey(n);e.state.setComponentLoading("feed",{message:e.settings.global("localization.loading")},n),e.engine.render(n);var i=e.utils.extractTenantId(n),r=e.utils.extractStateId(n),a=e.state.getAuthenticationToken(n),l=t[o].id;return e.ajax.getSocialMessages(i,l,r,1,10,a).then(function(i){t[o].messages=i,e.state.setComponentLoading("feed",null,n),e.engine.render(n)})},getMessages:function(n){var o=e.utils.getLookUpKey(n);e.state.setComponentLoading("feed",{message:e.settings.global("localization.loading")},n),e.engine.render(n);var i=e.utils.extractTenantId(n),r=e.utils.extractStateId(n),a=e.state.getAuthenticationToken(n),l=t[o].id;return e.ajax.getSocialMessages(i,l,r,t[o].messages.nextPage,10,a).then(function(i){t[o].messages.messages=t[o].messages.messages.concat(i.messages),t[o].messages.nextPage=i.nextPage,e.state.setComponentLoading("feed",null,n),e.engine.render(n)})},sendMessage:function(n,o,i,r,a){if(!e.utils.isNullOrWhitespace(o)){var l=e.utils.getLookUpKey(n),u=e.utils.extractTenantId(n),s=e.utils.extractStateId(n),c=e.state.getAuthenticationToken(n),d=t[l],f={mentionedWhos:e.utils.convertToArray(r),messageText:o,senderId:d.me.id,uploadedFiles:a};return i&&(f.repliedTo=i),f.messageText=f.messageText.replace(/@\[[A-za-z0-9 ]*\]/gi,function(e){return e.substring(2,e.length-1)}),e.state.setComponentLoading("feed",{message:e.settings.global("localization.sending")},n),e.engine.render(n),e.ajax.sendSocialMessage(u,d.id,s,f,c).then(function(t){if(i){var o=d.messages.messages.filter(function(e){return e.id==i})[0];o.comments=o.comments||[],o.comments.push(t)}else d.messages.messages=d.messages.messages||[],d.messages.messages.unshift(t);e.collaboration.syncFeed(n),e.state.setComponentLoading("feed",null,n),e.engine.render(n)})}},toggleFollow:function(n){var o=e.utils.getLookUpKey(n),i=e.utils.extractTenantId(n),r=e.utils.extractStateId(n),a=e.state.getAuthenticationToken(n),l=t[o];return e.state.setComponentLoading("feed",{message:e.settings.global("localization.loading")},n),e.engine.render(n),e.ajax.follow(i,l.id,r,!l.me.isFollower,a).then(function(t){return l.me.isFollower=!l.me.isFollower,e.ajax.getSocialFollowers(i,l.id,r,a)}).then(function(i){t[o].followers=i,e.state.setComponentLoading("feed",null,n),e.engine.render(n)})},getUsers:function(n,o){var i=e.utils.getLookUpKey(n),r=e.utils.extractTenantId(n),a=e.utils.extractStateId(n),l=e.state.getAuthenticationToken(n),u=t[i];return e.ajax.getSocialUsers(r,u.id,a,o,l)},attachFiles:function(n,o,i){var r=e.utils.getLookUpKey(n),a=e.utils.extractTenantId(n),l=e.state.getAuthenticationToken(n),u=t[r];return e.ajax.uploadSocialFile(o,u.id,a,l,i)},remove:function(n){var o=e.utils.getLookUpKey(n);t[o]&&(null==t[o],delete t[o])}}}(manywho),manywho.state=function(e){function t(t){if(t.objectDataRequest&&t.objectData&&1==t.objectData.length){for(prop in t.objectData[0].properties)if(!e.utils.isNullOrWhitespace(t.objectData[0].properties[prop].contentValue))return!1}else if(t.objectData)return!1;return!0}var n={},o={},i={},r={},a={},l={},u={},s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;return{refreshComponents:function(o,i,r){var a=e.utils.getLookUpKey(r);n[a]={};for(id in o){var l=null;o[id].objectData&&!t(o[id])&&(l=o[id].objectData.filter(function(e){return e.isSelected})),n[a][id]={contentValue:o[id].contentValue||null,objectData:l||null},e.validation.shouldValidate(i)&&(n[a][id]=$.extend({},n[a][id],e.state.isValid(id,r)))}},getLocation:function(t){var n=e.utils.getLookUpKey(t);return a[n]},setLocation:function(t){if("geolocation"in navigator&&(e.settings.global("trackLocation",t,!1)||e.settings.global("location.isTrackingEnabled",t,!1))){var n=e.utils.getLookUpKey(t);navigator.geolocation.getCurrentPosition(function(o){null!=o&&null!=o.coords&&(a[n]={latitude:e.utils.getNumber(o.coords.latitude),longitude:e.utils.getNumber(o.coords.longitude),accuracy:e.utils.getNumber(o.coords.accuracy),altitude:e.utils.getNumber(o.coords.altitude),altitudeAccuracy:e.utils.getNumber(o.coords.altitudeAccuracy),heading:e.utils.getNumber(o.coords.heading),speed:e.utils.getNumber(o.coords.speed)},e.state.setUserTime(t))},null,{timeout:6e4})}},setUserTime:function(t){var n=e.utils.getLookUpKey(t),o=moment();e.utils.isNullOrUndefined(e.settings.global("i18n.timezoneOffset",t))||o.utcOffset(e.settings.global("i18n.timezoneOffset",t)),a[n]?a[n].time=o.format():a[n]={time:o.format()}},getComponent:function(t,o){var i=e.utils.getLookUpKey(o);return(n[i]||{})[t]},getComponents:function(t){var o=e.utils.getLookUpKey(t);return n[o]},setComponent:function(t,o,i,r){var a=e.utils.getLookUpKey(i);if(n[a][t]=e.utils.extend(n[a][t],o),null!=o&&(n[a][t].objectData=o.objectData),"undefined"==typeof o.isValid&&n[a][t].isValid===!1){var l=e.model.getComponent(t,i);l.isRequired&&(!e.utils.isNullOrEmpty(o.contentValue)||o.objectData&&o.objectData.length>0)&&(n[a][t].isValid=!0,n[a][t].validationMessage=null)}r&&e.collaboration.push(t,o,i)},setComponents:function(t,o){var i=e.utils.getLookUpKey(o);n[i]=t},getPageComponentInputResponseRequests:function(t){var o=e.utils.getLookUpKey(t),i=null;if(null!=n[o]){i=[];for(id in n[o])s.test(id)&&i.push({pageComponentId:id,contentValue:n[o][id].contentValue,objectData:n[o][id].objectData})}return i},isAllValid:function(t){var n=e.model.getComponents(t),o=!0;if(n)for(var i in n){var r=e.state.isValid(i,t);r.isValid===!1&&(e.state.setComponent(i,r,t,!0),o=!1)}return o},isValid:function(t,n){var o=e.model.getComponent(t,n),i=e.state.getComponent(t,n);return e.validation.validate(o,i,n)},setState:function(t,n,i,r){var a=e.utils.getLookUpKey(r);o[a]={id:t,token:n,currentMapElementId:i}},getState:function(t){var n=e.utils.getLookUpKey(t);return o[n]},setOptions:function(t,n){var o=e.utils.getLookUpKey(n);u[o]=t},getOptions:function(t){var n=e.utils.getLookUpKey(t);return u[n]},setLogin:function(t,n){var o=e.utils.getLookUpKey(n);l[o]=t},getLogin:function(t){var n=e.utils.getLookUpKey(t);return l[n]},setAuthenticationToken:function(t,n){var o=e.utils.getLookUpKey(n);i[o]=t},getAuthenticationToken:function(t){var n=e.utils.getLookUpKey(t);return i[n]},getSessionData:function(t){var n=e.utils.getLookUpKey(t);return r[n]},setSessionData:function(t,n,o){var i=e.utils.getLookUpKey(o);r[i]={id:t,url:n}},setComponentLoading:function(t,o,i){var r=e.utils.getLookUpKey(i);n[r]=n[r]||{},n[r][t]=n[r][t]||{},n[r][t].loading=o},setComponentError:function(t,o,i){var r=e.utils.getLookUpKey(i);n[r]=n[r]||{},n[r][t]=n[r][t]||{},null!==o&&"object"==typeof o?(n[r][t].error=o,n[r][t].error.id=t):"string"==typeof o?n[r][t].error={message:o,id:t}:o||(n[r][t].error=null)},remove:function(t){var o=e.utils.getLookUpKey(t);null==n[o],delete n[o]}}}(manywho),manywho.styling=function(e){var t={},n={};return{getClasses:function(o,i,r,a){var l=e.model.getContainer(o,a),u=e.model.getItem(i,a),s=[];if(s.push("mw-"+r.toLowerCase()),l){var c=l.containerType.toLowerCase();n.hasOwnProperty(c)&&(s=s.concat(n[c].call(this,u,l)))}if(u){var d=u.componentType||u.containerType;if(!e.utils.isNullOrWhitespace(d)){var f=d.toLowerCase();t.hasOwnProperty(f)&&("string"==typeof t[f]||t[f]instanceof String?s.push(t[f]):"[object Function]"==={}.toString.call(t[f])?s.push(t[f].call(this,u,l)):Array.isArray(t[f])&&(s=s.concat(t[f])))}}return u.attributes&&!e.utils.isNullOrWhitespace(u.attributes.classes)&&s.push(u.attributes.classes),e.model.isContainer(u)&&s.push("clearfix"),s},registerContainer:function(e,t){n[e.toLowerCase()]=t},registerComponent:function(e,n){t[e.toLowerCase()]=n}}}(manywho),manywho.tours=function(e){var t={},n=null,o=function(t,o,i,r){!e.tours.getTargetElement(i)||!r&&e.tours.getTargetElement||(clearInterval(n),e.tours.move(t,t.steps.indexOf(i)))},i=function(t,o){e.tours.getTargetElement(o)||(clearInterval(n),e.tours.done(t))},r=function(e){clearInterval(n);var t=e.steps[e.currentStep];t.showNext===!1&&e.currentStep<e.steps.length-1&&(n=setInterval(function(){return o(e,t,e.steps[e.currentStep+1],!t.showNext&&!t.showBack)},500)),e.currentStep===e.steps.length-1&&(n=setInterval(function(){return i(e,e.steps[e.currentStep])},500))};return{current:null,addTours:function(e){e.forEach(function(e){t[e.id]=e})},start:function(n,o,i){var a=document.querySelector(o);if(a){var l=a.querySelector(".mw-tours");return l||(l=document.createElement("div"),l.className="mw-tours mw-bs",a.appendChild(l)),e.utils.isNullOrWhitespace(n)&&(n=Object.keys(t)[0]),t[n]?t[n].steps&&0!==t[n].steps.length?(this.current=JSON.parse(JSON.stringify(t[n])),this.current.steps=(this.current.steps||[]).map(function(t,n){return Object.assign({},e.settings.global("tours.defaults",i,{}),{order:n},t)}),this.current.currentStep=0,r(this.current),ReactDOM.render(React.createElement(e.component.getByName("mw-tour"),{tour:this.current,stepIndex:0}),l),this.current):void e.log.error("The Tour "+n+" contains zero Steps"):void e.log.error("A Tour with the id "+n+" could not be found")}e.log.error("A Container matching the selector "+o+" could not be found when attempting to start a Tour")},next:function(t){void 0===t&&(t=this.current),t&&(t.currentStep+1>=t.steps.length?e.tours.done(t):t.currentStep++,r(t),this.render())},previous:function(e){void 0===e&&(e=this.current),e&&(e.currentStep=Math.max(0,e.currentStep-1),r(e),this.render())},move:function(t,n){if(void 0===t&&(t=this.current),t){if(n>=t.steps.length)return void e.log.warning("Cannot move Tour "+t.id+" to Step "+n+" as it is out of bounds");t.currentStep=n,r(t),this.render()}},refresh:function(e){if(void 0===e&&(e=this.current),e)if(this.getTargetElement(e.steps[e.currentStep]))this.render(e);else{for(var t=e.currentStep;t<e.steps.length;t++)if(this.getTargetElement(e.steps[t]))return void this.move(e,t);ReactDOM.unmountComponentAtNode(document.querySelector(".mw-tours"))}},done:function(e){void 0===e&&(e=this.current),this.current=null,ReactDOM.unmountComponentAtNode(document.querySelector(".mw-tours"))},render:function(t){void 0===t&&(t=this.current),t&&ReactDOM.render(React.createElement(e.component.getByName("mw-tour"),{tour:t,stepIndex:t.currentStep}),document.querySelector(".mw-tours"))},getTargetElement:function(e){return null}}}(manywho),manywho.utils=function(e,t){function n(e,t){return t.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function o(e,t){for(var n in t)try{Array.isArray(t[n])?e[n]=i(e[n]||[],t[n]):t[n].constructor==Object?e[n]=o(e[n],t[n]):t.hasOwnProperty(n)&&(e[n]=t[n])}catch(r){e[n]=t[n]}return e}function i(e,t){return t.forEach(function(t){e.push(t)}),e}return{getNumber:function(e){var t=0;return null!=e&&(t=parseFloat(e),!isNaN(t)&&isFinite(e)||(t=0)),t},replaceBrowserUrl:function(t){if(history&&history.replaceState){var n=e.utils.parseQueryString(window.location.search.substring(1)),o=t.joinFlowUri,i=["tenant-id","flow-id","flow-version-id","navigation-element-id","join","initialization","authorization"];for(var r in n)i.indexOf(r)==-1&&(o+="&"+r+"="+n[r]);try{history.replaceState(t.stateToken,"Title",o)}catch(a){e.log.error(a)}}},parseQueryString:function(e){var t,n,o,i,r={};for(t=e.split("&"),o=0,i=t.length;o<i;o++)n=t[o].split("="),r[n[0]]=n[1];return r},extend:function(e,t,i){return e?(t&&(Array.isArray(t)||(t=[t]),2==arguments.length?e=n(e,t):3==arguments.length&&i&&t.forEach(function(t){e=o(e,t)})),e):{}},extendObjectData:function(t,n){if(n){if(!t)return t=[],void t.push(n[0]);n.forEach(function(n){t&&t.length>0&&t.forEach(function(t){e.utils.isEqual(t.developerName,n.developerName,!0)&&(null!=n.contentValue?e.utils.extend(t,n,!0):null!=n.objectData&&(t.objectData=n.objectData))})})}return t},isNullOrWhitespace:function(t){return!!e.utils.isNullOrUndefined(t)||t.replace(/\s/g,"").length<1},isNullOrUndefined:function(e){return"undefined"==typeof e||null===e},isNullOrEmpty:function(t){return e.utils.isNullOrUndefined(t)||""===t},isEqual:function(e,t,n){return!e&&!t||!(!e||!t)&&(n?e.toLowerCase()===t.toLowerCase():e===t)},convertToArray:function(e){var t=null;if(e){t=[];for(prop in e)t.push(e[prop])}return t},contains:function(e,t,n){var o=e.filter(function(e){return e[n]==t});return o&&o.length>0},get:function(e,t,n){var o=e.filter(function(e){return e[n]==t});return o&&o.length>0?o[0]:null},getAll:function(e,t,n){var o=[];for(var i in e)e[i][n]==t&&o.push(e[i]);return o},getFlowKey:function(e,t,n,o,i){var r=Array.prototype.slice.call(arguments);return r.join("_")},getLookUpKey:function(e){return e?[e.split("_")[0],e.split("_")[3]].join("_"):null},extractElement:function(e){return e.split("_")[4]},extractTenantId:function(e){return e.split("_")[0]},extractFlowId:function(e){return e.split("_")[1]},extractFlowVersionId:function(e){return e.split("_")[2]},extractStateId:function(e){return e.split("_")[3]},removeLoadingIndicator:function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)},isEmbedded:function(){return!document.documentElement.classList.contains("manywho")},isSmallScreen:function(t){var n=e.utils.getLookUpKey(t);return document.getElementById(n).clientWidth<768},getValueByPath:function(e,t){if(!t||""==t)return e;try{for(var n=0,t=t.split("."),o=t.length;n<o;n++){var i=null;for(var r in e)r.toLowerCase()==t[n].toLowerCase()&&(i=r);e=i?e[i]:void 0}return e}catch(a){return}},removeFlowFromDOM:function(t){for(var n=e.utils.getLookUpKey(t),o=document.querySelector(e.settings.global("containerSelector",t,"#manywho")),i=0,r=o.children.length;i<r;i++)o.children[i].id==n&&(ReactDOM.unmountComponentAtNode(o.children[i]),o.removeChild(o.children[i]))},getObjectDataProperty:function(t,n){return t.filter(function(t){return e.utils.isEqual(t.developerName,n,!0)})[0]},setObjectDataProperty:function(t,n,o){var i=t.filter(function(t){return e.utils.isEqual(t.developerName,n,!0)})[0];i&&(i.contentValue=o)},isEmptyObjectData:function(t){return t.objectDataRequest&&t.objectData&&1==t.objectData.length?e.utils.isPlaceholderObjectData(t.objectData):!t.objectData},isPlaceholderObjectData:function(t){if(1==t.length){for(prop in t[0].properties)if(!e.utils.isNullOrWhitespace(t[0].properties[prop].contentValue))return!1;return!0}return!1},debounce:function(e,t,n){var o;return function(){var i=this,r=arguments,a=function(){o=null,n||e.apply(i,r)},l=n&&!o;clearTimeout(o),o=setTimeout(a,t||200),l&&e.apply(i,r)}},removeFlow:function(t){e.model.deleteFlowModel(t),e.utils.removeFlowFromDOM(t),e.settings.remove(t),e.state.remove(t),e.social.remove(t),e.callbacks.remove(t),e.settings.flow("collaboration.isEnabled",t)&&(e.collaboration.leave("Another user",t),e.collaboration.remove(t))},guid:function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}}}(manywho,jQuery),manywho.validation=function(e){var t=function(t,n){switch(n){case e.component.contentTypes.object:case e.component.contentTypes.list:return null===t||0===t.length||0===t.filter(function(e){return e.isSelected}).length;case e.component.contentTypes["boolean"]:if("string"!=typeof t)return!t;if(e.utils.isEqual(t,"true",!0))return!1;if(e.utils.isEqual(t,"false",!0))return!0;break;default:return e.utils.isNullOrEmpty(t)}},n=function(t,n,o){return{isValid:!1,validationMessage:t||e.settings.global(n,o)}},o=function(e,t){return n(e,"localization.validation.required",t)},i=function(e,t){return n(e,"localization.validation.invalid",t)},r=function(t,n){if(!e.utils.isNullOrWhitespace(n)){var o=new RegExp(n);return o.test(e.utils.isNullOrUndefined(t)?"":t)}return!0};return{shouldValidate:function(t,n){return e.settings.global("validation.when",n).indexOf(t.toLowerCase())!==-1},validate:function(t,n,o){if(!e.settings.global("validation.isenabled",o,!1))return{isValid:!0,validationMessage:null};if(t.isValid===!1)return{isValid:!1,validationMessage:e.settings.global("localization.validation.required",o)};var i=null,r=null;t.attributes&&(i=t.attributes.validation?t.attributes.validation:null,r=t.attributes.validationMessage?t.attributes.validationMessage:null);var a=null;switch(a=e.utils.isEqual(t.contentType,e.component.contentTypes.object,!0)||e.utils.isEqual(t.contentType,e.component.contentTypes.list,!0)?n&&void 0!==n.objectData?n.objectData:t.objectData:n&&void 0!==n.contentValue?n.contentValue:t.contentValue,t.contentType.toUpperCase()){case e.component.contentTypes.string:case e.component.contentTypes.password:case e.component.contentTypes.content:case e.component.contentTypes.datetime:return e.validation.validateString(a,i,r,t.isRequired,o);case e.component.contentTypes.number:return e.validation.validateNumber(a,i,r,t.isRequired,o);case e.component.contentTypes["boolean"]:return e.validation.validateBoolean(a,r,t.isRequired,o);case e.component.contentTypes.object:return e.validation.validateObject(a,r,t.isRequired,o);case e.component.contentTypes.list:return e.validation.validateList(a,r,t.isRequired,o);default:return{isValid:!0,validationMessage:null}}},validateString:function(n,a,l,u,s){return u&&t(n,e.component.contentTypes.string)?o(l,s):r(n,a)?{isValid:!0,validationMessage:null}:i(l,s)},validateNumber:function(n,a,l,u,s){return u&&t(n,e.component.contentTypes.number)?o(l,s):isNaN(n)&&!e.utils.isNullOrWhitespace(n)?i(l,s):r(e.utils.isNullOrUndefined(n)?"":n.toString(),a)?{isValid:!0,validationMessage:!0}:i(l,s)},validateBoolean:function(n,i,r,a){return r&&t(n,e.component.contentTypes["boolean"])?o(i,a):{isValid:!0,validationMessage:!0}},validateObject:function(n,i,r,a){return r&&t(n,e.component.contentTypes.object)?o(i,a):{isValid:!0,validationMessage:!0}},validateList:function(n,i,r,a){return r&&t(n,e.component.contentTypes.list)?o(i,a):{isValid:!0,validationMessage:!0}},scrollToInvalidElement:function(t){if(e.settings.global("validation.scroll.isEnabled",t,!1)){var n=document.querySelector(e.settings.global("validation.scroll.selector",t,".has-error"));n&&n.scrollIntoView()}},addNotification:function(t){e.settings.global("validation.notification.isEnabled",t,!1)&&e.model.addNotification(t,{message:e.settings.global("localization.validation.notification",t),position:"center",type:"danger",timeout:"0",dismissible:!0})}}}(manywho);
//# sourceMappingURL=ui-core-bb6dd86fe6.js.map
